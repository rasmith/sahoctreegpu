cmake_minimum_required(VERSION 2.8)
project(octree)

set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH}
                     "${CMAKE_SOURCE_DIR}/CMake/Modules/")
set(EXECUTABLE_OUTPUT_PATH ${PROJECT_BINARY_DIR}/bin)

include_directories(${CMAKE_CURRENT_SOURCE_DIR}/includes)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/third_party/glm)

find_package(CUDA 6.5 REQUIRED)
include_directories(${CUDA_INCLUDE_DIRS}) 

#set(CUDA_NVCC_FLAGS "${CUDA_NVCC_FLAGS};--keep;-G;-g;-lineinfo;-Xptxas;-v")
set(CUDA_NVCC_FLAGS 
  "${CUDA_NVCC_FLAGS};-Xptxas;-v;
--use_fast_math;-arch=sm_20;--compiler-options '-O3'
")

#set(CUDA_SEPARABLE_COMPILATION ON)

cuda_add_executable(
  octree
  cudaOctreeRenderer.cu
  image.cpp
  main.cpp
  octree.cu
  sceneLoader.cpp
  third_party/glm/glm.cpp
)

target_link_libraries(octree)
